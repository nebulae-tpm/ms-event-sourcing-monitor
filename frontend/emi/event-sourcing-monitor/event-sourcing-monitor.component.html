<div class="page-layout simple fullwidth">
  <!-- CONTENT -->
  <div class="content p-24 w-100-p">
    <div class="widget-group" fxLayout="row" fxFlex="100" fxLayoutWrap fxLayoutAlign="start start" *fuseIfOnDom [@animateStagger]="{value:'50'}">

      <!-- OVERVIEW GENERAL -->
      <fuse-widget style="background: rgb(68, 98, 165)" [@animate]="{value:'*',params:{y:'100%'}}" class="widget" fxLayout="column" fxFlex="100"
        fxFlex.gt-xs="100" fxFlex.gt-md="30">
        <div class="fuse-widget-front mat-white-bg mat-elevation-z2">

          <div class="p-10" fxLayout="row" fxLayoutAlign="center center">
            <div class="h2 pr-16">Top event Types</div>
          </div>

          <table class="simple clickable">
            <thead>
              <tr>
                <th>Event type</th>
                <th class="text-right">total</th>
                <th class="text-right">balance</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let row of topEvents">
                <td>{{row.eventType}}</td>
                <td class="text-right">{{row.total}}</td>
                <td class="text-right">{{row.balance}}</td>
              </tr>
            </tbody>
          </table>

        </div>
      </fuse-widget>
      <fuse-widget style="background: red" [@animate]="{value:'*',params:{y:'100%'}}" class="widget" fxLayout="column" fxFlex="100"
        fxFlex.gt-xs="100" fxFlex.gt-md="70">

        <div class="fuse-widget-front mat-white-bg mat-elevation-z2">

          <div class="px-16 border-bottom" fxLayout="row" fxLayoutAlign="start center" fxLayoutWrap>
            <div class="h3 px-8 py-8 txt-a-center" fxLayout="column" fxLayoutAlign="center center" fxFlex="100">
              <strong> {{ 'ESMONITOR.GENERAL_OVERVIEW' | translate }} </strong>
            </div>
            <p fxLayout="column" fxLayoutAlign="center center" fxFlex="50" fxFlex.gt-sm="25" >escala</p>
            <mat-form-field fxLayout="column" fxLayoutAlign="center center" fxFlex="50" fxFlex.gt-sm="25">
              <mat-select class="simplified" [(ngModel)]="generalEventsOverViewChart.currentTimeRange" (change)="generalEventsOverViewChart.onScaleChanged($event.value)"
                aria-label="Change range">
                <mat-option *ngFor="let range of generalEventsOverViewChart.timeScales | keys" [value]="range.value">
                  {{ 'GENERAL_OVERVIEW_WIDGET.TIMESCALES.' + range.key | translate }}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <p fxLayout="column" fxLayoutAlign="center center" fxFlex="50" fxFlex.gt-sm="25">rango</p>
            <mat-form-field fxLayout="column" fxLayoutAlign="center center" fxFlex="50" fxFlex.gt-sm="25">
              <mat-select class="simplified" [(ngModel)]="generalEventsOverViewChart.currentQuantity"
                (change)="generalEventsOverViewChart.onRangeChanged($event.value)"
                aria-label="Change range">
                <mat-option *ngFor="let qty of generalEventsOverViewChart.quantities | keys" [value]="qty.value">
                  {{ 'GENERAL_OVERVIEW_WIDGET.TIMERANGES.' + qty.key | translate }}
                </mat-option>
              </mat-select>
            </mat-form-field>

          </div>
          <div class="h-400">
            <canvas baseChart
              [datasets]="generalEventsOverViewChart.datasets"
              [labels]="generalEventsOverViewChart.labels"
              [colors]="generalEventsOverViewChart.colors"
              [options]="generalEventsOverViewChart.options"
              (click)="printEvent($event)"
              [chartType]="generalEventsOverViewChart.chartType">
            </canvas>
          </div>
        </div>

      </fuse-widget>
      <!-- OVERVIEW GENERAL -->

      <!-- OVERVIEW BY EVENT_TYPE -->
      <fuse-widget style="background: rgb(68, 98, 165)" [@animate]="{value:'*',params:{y:'100%'}}" class="widget" fxLayout="column" fxFlex="100"
        fxFlex.gt-xs="100" fxFlex.gt-md="30">
        <div class="fuse-widget-front mat-white-bg mat-elevation-z2">
          <app-monitor-filter-helper></app-monitor-filter-helper>
        </div>
      </fuse-widget>
      <fuse-widget fxLayoutWrap style="background: violet" [@animate]="{value:'*',params:{y:'100%'}}" class="widget" fxLayout="column"
        fxFlex="100" fxFlex.gt-xs="100" fxFlex.gt-md="70">
        <div class="fuse-widget-front mat-white-bg mat-elevation-z2">
          <div class="h-400">
            <canvas baseChart [datasets]="overViewByEventType.datasets"
             [labels]="overViewByEventType.labels"
              [colors]="overViewByEventType.colors"
              [options]="overViewByEventType.options"
              (click)="printEvent($event)"
              [chartType]="overViewByEventType.chartType">
            </canvas>
          </div>
        </div>

      </fuse-widget>
      <!-- OVERVIEW BY EVENT_TYPE -->

      <!-- OVERVIEW BY AGGREGATE_TYPE -->
      <fuse-widget style="background: rgb(68, 98, 165)" [@animate]="{value:'*',params:{y:'100%'}}" class="widget" fxLayout="column" fxFlex="100"
        fxFlex.gt-xs="100" fxFlex.gt-md="30">
        <div class="fuse-widget-front mat-white-bg mat-elevation-z2">
          <app-monitor-filter-helper></app-monitor-filter-helper>
        </div>
      </fuse-widget>
      <fuse-widget fxLayoutWrap style="background: violet" [@animate]="{value:'*',params:{y:'100%'}}" class="widget" fxLayout="column"
        fxFlex="100" fxFlex.gt-xs="100" fxFlex.gt-md="70">
        <div class="fuse-widget-front mat-white-bg mat-elevation-z2">
          <div class="h-400">
            <canvas baseChart [datasets]="overViewByAggregateType.datasets"
             [labels]="overViewByAggregateType.labels"
              [colors]="overViewByAggregateType.colors"
              [options]="overViewByAggregateType.options"
              (click)="printEvent($event)"
              [chartType]="overViewByAggregateType.chartType">
            </canvas>
          </div>
        </div>

      </fuse-widget>
      <!-- OVERVIEW BY AGGREGATE_TYPE -->

    </div>
  </div>
</div>
